<!doctype html><html class=no-js lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=https://seanslma.github.io/maki/SQL/MySQL/adm/ rel=canonical><link href=../PerconaToolkit/ rel=prev><link href=../alter/ rel=next><link href=../../../assets/images/favicon.png rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.6.15" name=generator><title>Admin - maki</title><link href=../../../assets/stylesheets/main.342714a4.min.css rel=stylesheet><link href=../../../assets/stylesheets/palette.06af60db.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../../stylesheets/extra.css rel=stylesheet><script>__md_scope=new URL(`../../..`,location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+`.`+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+`.`+e,JSON.stringify(_))}catch{}};</script><body data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=default dir=ltr><input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox><input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox><label class=md-overlay for=__drawer></label><div data-md-component=skip><a class=md-skip href=#admin> Skip to content </a></div><div data-md-component=announce></div><header class=md-header data-md-component=header><nav class="md-header__inner md-grid" aria-label=Header><a class="md-header__button md-logo" aria-label=maki data-md-component=logo href=../../.. title=maki> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a><label class="md-header__button md-icon" for=__drawer><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> maki </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> Admin </span></div></div></div><form class=md-header__option data-md-component=palette><input aria-label="Switch to dark mode" class=md-option data-md-color-accent=indigo data-md-color-media data-md-color-primary=indigo data-md-color-scheme=default id=__palette_0 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg></label><input aria-label="Switch to light mode" class=md-option data-md-color-accent=indigo data-md-color-media data-md-color-primary=indigo data-md-color-scheme=slate id=__palette_1 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg></label></form><script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><label class="md-header__button md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false><label class="md-search__icon md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></label><nav aria-label=Search class=md-search__options><button class="md-search__icon md-icon" aria-label=Clear tabindex=-1 title=Clear type=reset><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button></nav><div class=md-search__suggest data-md-component=search-suggest></div></form><div class=md-search__output><div class=md-search__scrollwrap data-md-scrollfix tabindex=0><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta>Initializing search</div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a title="Go to repository" class=md-source data-md-component=source href=https://github.com/seanslma/maki> <div class="md-source__icon md-icon"><svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg></div> <div class=md-source__repository>GitHub</div> </a></div></nav></header><div class=md-container data-md-component=container><nav aria-label=Tabs class=md-tabs data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class=md-tabs__item><a class=md-tabs__link href=../../..> About </a><li class=md-tabs__item><a class=md-tabs__link href=../../../AI/ChatGPT/> AI </a><li class=md-tabs__item><a class=md-tabs__link href=../../../AWS/CDN/> AWS </a><li class=md-tabs__item><a class=md-tabs__link href=../../../Azure/Advisor/> Azure </a><li class=md-tabs__item><a class=md-tabs__link href=../../../Coding/Notepad%2B%2B/> Coding </a><li class=md-tabs__item><a class=md-tabs__link href=../../../Cybersecurity/Cybersecurity/> Cybersecurity </a><li class=md-tabs__item><a class=md-tabs__link href=../../../Data/Data/> Data </a><li class=md-tabs__item><a class=md-tabs__link href=../../../DevOps/DevOps/> DevOps </a><li class=md-tabs__item><a class=md-tabs__link href=../../../Documentation/Jira/> Documentation </a><li class=md-tabs__item><a class=md-tabs__link href=../../../Energy/Inertia/> Energy </a><li class=md-tabs__item><a class=md-tabs__link href=../../../Learn/Book/> Learn </a><li class=md-tabs__item><a class=md-tabs__link href=../../../ML/Backtest/> ML </a><li class=md-tabs__item><a class=md-tabs__link href=../../../Optimizaton/Convex/> Optimizaton </a><li class=md-tabs__item><a class=md-tabs__link href=../../../PowerBI/Basic/> PowerBI </a><li class=md-tabs__item><a class=md-tabs__link href=../../../Python/NAN/> Python </a><li class="md-tabs__item md-tabs__item--active"><a class=md-tabs__link href=../../Database/> SQL </a><li class=md-tabs__item><a class=md-tabs__link href=../../../System/Behavior/> System </a></ul></div></nav><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0><label class=md-nav__title for=__drawer><a class="md-nav__button md-logo" aria-label=maki data-md-component=logo href=../../.. title=maki> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> maki</label><div class=md-nav__source><a title="Go to repository" class=md-source data-md-component=source href=https://github.com/seanslma/maki> <div class="md-source__icon md-icon"><svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg></div> <div class=md-source__repository>GitHub</div> </a></div><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../../..> <span class=md-ellipsis> About </span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../AI/ChatGPT/> <span class=md-ellipsis> AI </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../AWS/CDN/> <span class=md-ellipsis> AWS </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Azure/Advisor/> <span class=md-ellipsis> Azure </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Coding/Notepad%2B%2B/> <span class=md-ellipsis> Coding </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Cybersecurity/Cybersecurity/> <span class=md-ellipsis> Cybersecurity </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Data/Data/> <span class=md-ellipsis> Data </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../DevOps/DevOps/> <span class=md-ellipsis> DevOps </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Documentation/Jira/> <span class=md-ellipsis> Documentation </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Energy/Inertia/> <span class=md-ellipsis> Energy </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Learn/Book/> <span class=md-ellipsis> Learn </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../ML/Backtest/> <span class=md-ellipsis> ML </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Optimizaton/Convex/> <span class=md-ellipsis> Optimizaton </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../PowerBI/Basic/> <span class=md-ellipsis> PowerBI </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Python/NAN/> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle" checked id=__nav_16 type=checkbox> <label class=md-nav__link for=__nav_16 id=__nav_16_label><span class=md-ellipsis> SQL </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=true aria-labelledby=__nav_16_label class=md-nav data-md-level=1><label class=md-nav__title for=__nav_16><span class="md-nav__icon md-icon"></span> SQL</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../../Database/> <span class=md-ellipsis> Database </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Test/> <span class=md-ellipsis> Test </span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../Access/cs/> <span class=md-ellipsis> Access </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../DuckDB/Datetime/> <span class=md-ellipsis> DuckDB </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../IoTDB/Cluster/> <span class=md-ellipsis> IoTDB </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../MSSQL/ANSI_NULLS/> <span class=md-ellipsis> MSSQL </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../MongoDB/Sharding/> <span class=md-ellipsis> MongoDB </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-nav__toggle md-toggle" checked id=__nav_16_8 type=checkbox> <label class=md-nav__link for=__nav_16_8 id=__nav_16_8_label tabindex=0><span class=md-ellipsis> MySQL </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=true aria-labelledby=__nav_16_8_label class=md-nav data-md-level=2><label class=md-nav__title for=__nav_16_8><span class="md-nav__icon md-icon"></span> MySQL</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../InnoDB/> <span class=md-ellipsis> InnoDB </span> </a><li class=md-nav__item><a class=md-nav__link href=../PerconaToolkit/> <span class=md-ellipsis> percona-toolkit </span> </a><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <a class="md-nav__link md-nav__link--active" href=./> <span class=md-ellipsis> Admin </span> </a><li class=md-nav__item><a class=md-nav__link href=../alter/> <span class=md-ellipsis> alter table </span> </a><li class=md-nav__item><a class=md-nav__link href=../backup/> <span class=md-ellipsis> backup </span> </a><li class=md-nav__item><a class=md-nav__link href=../bakcode/> <span class=md-ellipsis> backup code </span> </a><li class=md-nav__item><a class=md-nav__link href=../basic/> <span class=md-ellipsis> Basic </span> </a><li class=md-nav__item><a class=md-nav__link href=../deadlock/> <span class=md-ellipsis> Deadlock </span> </a><li class=md-nav__item><a class=md-nav__link href=../err/> <span class=md-ellipsis> error </span> </a><li class=md-nav__item><a class=md-nav__link href=../group/> <span class=md-ellipsis> group </span> </a><li class=md-nav__item><a class=md-nav__link href=../io/> <span class=md-ellipsis> IO </span> </a><li class=md-nav__item><a class=md-nav__link href=../keyrepair/> <span class=md-ellipsis> key repair </span> </a><li class=md-nav__item><a class=md-nav__link href=../mem/> <span class=md-ellipsis> memory </span> </a><li class=md-nav__item><a class=md-nav__link href=../myisam2innodb/> <span class=md-ellipsis> MyISAM to InnoDB </span> </a><li class=md-nav__item><a class=md-nav__link href=../other/> <span class=md-ellipsis> other </span> </a><li class=md-nav__item><a class=md-nav__link href=../param/> <span class=md-ellipsis> param </span> </a><li class=md-nav__item><a class=md-nav__link href=../partition/> <span class=md-ellipsis> Partition </span> </a><li class=md-nav__item><a class=md-nav__link href=../perf/> <span class=md-ellipsis> perf </span> </a><li class=md-nav__item><a class=md-nav__link href=../procedure/> <span class=md-ellipsis> Procedure </span> </a><li class=md-nav__item><a class=md-nav__link href=../profile/> <span class=md-ellipsis> Profiling </span> </a><li class=md-nav__item><a class=md-nav__link href=../qry/> <span class=md-ellipsis> query </span> </a><li class=md-nav__item><a class=md-nav__link href=../shadding/> <span class=md-ellipsis> Shadding </span> </a><li class=md-nav__item><a class=md-nav__link href=../tip/> <span class=md-ellipsis> tip </span> </a><li class=md-nav__item><a class=md-nav__link href=../user/> <span class=md-ellipsis> user </span> </a></ul></nav><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../Oracle/Admin/> <span class=md-ellipsis> Oracle </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../PostgreSQL/Basic/> <span class=md-ellipsis> PostgreSQL </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../Security/Encryption/> <span class=md-ellipsis> Security </span> <span class="md-nav__icon md-icon"></span> </a></ul></nav><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../System/Behavior/> <span class=md-ellipsis> System </span> <span class="md-nav__icon md-icon"></span> </a></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav aria-label="Table of contents" class="md-nav md-nav--secondary"></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1 id=admin>Admin<a title="Permanent link" class=headerlink href=#admin>¬∂</a></h1><p>by default, mysql8 enabled -log-bin, can be disabled by skip-log-bin<div class=highlight><pre><span></span><code><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=c1>--drop db</span>
<a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=k>DROP</span><span class=w> </span><span class=k>DATABASE</span><span class=w> </span><span class=p>[</span><span class=k>IF</span><span class=w> </span><span class=k>EXISTS</span><span class=p>]</span><span class=w> </span><span class=n>db_name</span><span class=p>;</span>
<a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=c1>--drop table</span>
<a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=k>DROP</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=k>IF</span><span class=w> </span><span class=k>EXISTS</span><span class=w> </span><span class=n>table1</span><span class=p>,</span><span class=w> </span><span class=n>table2</span><span class=p>;</span>
</code></pre></div><h1 id=restart>restart<a title="Permanent link" class=headerlink href=#restart>¬∂</a></h1><p>mysql did not release memory, restart can release 1.5GB<h2 id=check-version>check version<a title="Permanent link" class=headerlink href=#check-version>¬∂</a></h2><div class=highlight><pre><span></span><code><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=k>SHOW</span><span class=w> </span><span class=n>VARIABLES</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>'%version%'</span><span class=p>;</span>
<a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a>
<a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a><span class=k>show</span><span class=w> </span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>my_table_name</span><span class=p>;</span>
</code></pre></div><h2 id=log-timestamp>log timestamp<a title="Permanent link" class=headerlink href=#log-timestamp>¬∂</a></h2><p>change report time to local [mysqld] log_timestamps = SYSTEM<h2 id=change-root-password>change root password<a title="Permanent link" class=headerlink href=#change-root-password>¬∂</a></h2><p>in inti.txt add:\ SET PASSWORD FOR 'root'@'localhost' = PASSWORD('MyNewPass');<p>in cmd:\ mysqld --init-file=C:\init.txt --console<p>update user set authentication_string=password('password') where user='root';<h2 id=dump-and-reload-method>Dump and Reload Method<a title="Permanent link" class=headerlink href=#dump-and-reload-method>¬∂</a></h2><p>when dump all databases, please remember to exclude the system dbs, otherwise you will have issue to log into the server.<div class=highlight><pre><span></span><code><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=c1>--all dbs</span>
<a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a><span class=n>mysqldump</span><span class=w> </span><span class=c1>--all-databases > dump.sql</span>
<a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a><span class=n>mysql</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>dump</span><span class=p>.</span><span class=k>sql</span>
<a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a>
<a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a><span class=c1>--all tables</span>
<a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a><span class=n>mysqldump</span><span class=w> </span><span class=n>db_name</span><span class=w> </span><span class=o>></span><span class=w> </span><span class=n>dump</span><span class=p>.</span><span class=k>sql</span>
<a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a><span class=n>mysql</span><span class=w> </span><span class=n>db_name</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>dump</span><span class=p>.</span><span class=k>sql</span>
<a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a>
<a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a><span class=c1>--one table</span>
<a href=#__codelineno-2-10 id=__codelineno-2-10 name=__codelineno-2-10></a><span class=n>mysqldump</span><span class=w> </span><span class=n>db_name</span><span class=w> </span><span class=n>t1</span><span class=w> </span><span class=o>></span><span class=w> </span><span class=n>dump</span><span class=p>.</span><span class=k>sql</span>
<a href=#__codelineno-2-11 id=__codelineno-2-11 name=__codelineno-2-11></a><span class=n>mysql</span><span class=w> </span><span class=n>db_name</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>dump</span><span class=p>.</span><span class=k>sql</span>
<a href=#__codelineno-2-12 id=__codelineno-2-12 name=__codelineno-2-12></a>
<a href=#__codelineno-2-13 id=__codelineno-2-13 name=__codelineno-2-13></a><span class=c1>--optimized</span>
<a href=#__codelineno-2-14 id=__codelineno-2-14 name=__codelineno-2-14></a><span class=n>mysqldump</span><span class=w> </span><span class=c1>--opt mydatabase > dump.sql</span>
<a href=#__codelineno-2-15 id=__codelineno-2-15 name=__codelineno-2-15></a>
<a href=#__codelineno-2-16 id=__codelineno-2-16 name=__codelineno-2-16></a><span class=c1>--disable tables locking during the dump in InnoDB</span>
<a href=#__codelineno-2-17 id=__codelineno-2-17 name=__codelineno-2-17></a><span class=n>mysqldump</span><span class=w> </span><span class=n>dbname</span><span class=w> </span><span class=c1>--single-transaction > dump.sql</span>
<a href=#__codelineno-2-18 id=__codelineno-2-18 name=__codelineno-2-18></a>
<a href=#__codelineno-2-19 id=__codelineno-2-19 name=__codelineno-2-19></a><span class=c1>--restore another way</span>
<a href=#__codelineno-2-20 id=__codelineno-2-20 name=__codelineno-2-20></a><span class=n>mysql</span><span class=w> </span><span class=o>-</span><span class=n>uroot</span><span class=w> </span><span class=o>-</span><span class=n>p</span><span class=w> </span><span class=c1>--default-character-set=utf8 foo</span>
<a href=#__codelineno-2-21 id=__codelineno-2-21 name=__codelineno-2-21></a><span class=n>mysql</span><span class=o>></span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=k>names</span><span class=w> </span><span class=s1>'utf8'</span>
<a href=#__codelineno-2-22 id=__codelineno-2-22 name=__codelineno-2-22></a><span class=n>mysql</span><span class=o>></span><span class=w> </span><span class=k>SOURCE</span><span class=w> </span><span class=n>foo</span><span class=p>.</span><span class=n>dump</span>
</code></pre></div><h2 id=rename-database-name>Rename database name<a title="Permanent link" class=headerlink href=#rename-database-name>¬∂</a></h2><div class=highlight><pre><span></span><code><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a>mysqldump -u username -P 3306 -p -R oldDbname > oldDbname.sql
<a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>mysqladmin -u username -P 3306 -p create newDbname
<a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a>mysql -u username -P 3306 -p newDbname &lt; oldDbname.sql
</code></pre></div><h2 id=repair-table-method>REPAIR TABLE Method<a title="Permanent link" class=headerlink href=#repair-table-method>¬∂</a></h2><p>the REPAIR TABLE method is only applicable to MyISAM, ARCHIVE, and CSV tables<div class=highlight><pre><span></span><code><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=k>CHECK</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>t1</span><span class=p>;</span>
<a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a><span class=n>REPAIR</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>t1</span><span class=p>;</span>
<a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a><span class=n>mysqlcheck</span><span class=w> </span><span class=n>db_name</span><span class=w> </span><span class=p>[</span><span class=n>tbl_name</span><span class=p>]</span>
<a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a><span class=n>mysqlcheck</span><span class=w> </span><span class=c1>--repair --databases db_name</span>
<a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a><span class=n>mysqlcheck</span><span class=w> </span><span class=c1>--repair --all-databases</span>
</code></pre></div><h2 id=repair-key>repair key<a title="Permanent link" class=headerlink href=#repair-key>¬∂</a></h2><p>Error: Incorrect key file for table '.\db\tbl_name.MYI'; try to repair it<div class=highlight><pre><span></span><code><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a><span class=k>REPAIR</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>tbl_name</span><span class=w> </span><span class=k>USE_FRM</span><span class=p>;</span>
</code></pre></div><p>The USE_FRM option is available for use if the .MYI index file is missing or if its header is corrupted. This option tells MySQL not to trust the information in the .MYI file header and to re-create it using information from the .frm file. This kind of repair cannot be done with myisamchk<h2 id=save-a-few-db-tables>save a few db tables<a title="Permanent link" class=headerlink href=#save-a-few-db-tables>¬∂</a></h2><div class=highlight><pre><span></span><code><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a>@echo off
<a href=#__codelineno-6-2 id=__codelineno-6-2 name=__codelineno-6-2></a>
<a href=#__codelineno-6-3 id=__codelineno-6-3 name=__codelineno-6-3></a>set db=test
<a href=#__codelineno-6-4 id=__codelineno-6-4 name=__codelineno-6-4></a>set tbl=xxx_tbl
<a href=#__codelineno-6-5 id=__codelineno-6-5 name=__codelineno-6-5></a>set file="C:\db_tbl.sql"
<a href=#__codelineno-6-6 id=__codelineno-6-6 name=__codelineno-6-6></a>
<a href=#__codelineno-6-7 id=__codelineno-6-7 name=__codelineno-6-7></a>set mysqlexe="C:\Program Files\MySQL\MySQL Server 5.7\bin\mysql.exe"
<a href=#__codelineno-6-8 id=__codelineno-6-8 name=__codelineno-6-8></a>set mysqldumpexe="C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqldump.exe"
<a href=#__codelineno-6-9 id=__codelineno-6-9 name=__codelineno-6-9></a>
<a href=#__codelineno-6-10 id=__codelineno-6-10 name=__codelineno-6-10></a>rem Dump db tables to sql file
<a href=#__codelineno-6-11 id=__codelineno-6-11 name=__codelineno-6-11></a>%mysqldumpexe% -h sql.server -P 3306 -u usr -p %1 %db% %tbl% > %file%
<a href=#__codelineno-6-12 id=__codelineno-6-12 name=__codelineno-6-12></a>
<a href=#__codelineno-6-13 id=__codelineno-6-13 name=__codelineno-6-13></a>echo all done!
</code></pre></div><h2 id=copy-db-to-another-server>copy db to another server<a title="Permanent link" class=headerlink href=#copy-db-to-another-server>¬∂</a></h2><div class=highlight><pre><span></span><code><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a>@echo off
<a href=#__codelineno-7-2 id=__codelineno-7-2 name=__codelineno-7-2></a>
<a href=#__codelineno-7-3 id=__codelineno-7-3 name=__codelineno-7-3></a>set dbnew=new_db
<a href=#__codelineno-7-4 id=__codelineno-7-4 name=__codelineno-7-4></a>set dbold=old_db
<a href=#__codelineno-7-5 id=__codelineno-7-5 name=__codelineno-7-5></a>set dbfile="C:\db.sql"
<a href=#__codelineno-7-6 id=__codelineno-7-6 name=__codelineno-7-6></a>
<a href=#__codelineno-7-7 id=__codelineno-7-7 name=__codelineno-7-7></a>set mysqlexe="C:\Program Files\MySQL\MySQL Server 5.7\bin\mysql.exe"
<a href=#__codelineno-7-8 id=__codelineno-7-8 name=__codelineno-7-8></a>set mysqldumpexe="C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqldump.exe"
<a href=#__codelineno-7-9 id=__codelineno-7-9 name=__codelineno-7-9></a>
<a href=#__codelineno-7-10 id=__codelineno-7-10 name=__codelineno-7-10></a>rem Dump db to sql file
<a href=#__codelineno-7-11 id=__codelineno-7-11 name=__codelineno-7-11></a>%mysqldumpexe% -h sql.server -P 3306 -u usr -p %1 %dbold% > %dbfile%
<a href=#__codelineno-7-12 id=__codelineno-7-12 name=__codelineno-7-12></a>rem only dump structure: %mysqldumpexe% -d -h sql.server -P 3306 -u usr -p %1 %dbold% > %dbfile%
<a href=#__codelineno-7-13 id=__codelineno-7-13 name=__codelineno-7-13></a>rem Create an empty db
<a href=#__codelineno-7-14 id=__codelineno-7-14 name=__codelineno-7-14></a>%mysqlexe% -h sql.server -P 3306 -u usr -p %1 -e "create database if not exists %dbnew%;"
<a href=#__codelineno-7-15 id=__codelineno-7-15 name=__codelineno-7-15></a>rem Import the db
<a href=#__codelineno-7-16 id=__codelineno-7-16 name=__codelineno-7-16></a>%mysqlexe% -h sql.server -P 3306 -u usr -p %1 %dbnew% &lt; %dbfile%             
<a href=#__codelineno-7-17 id=__codelineno-7-17 name=__codelineno-7-17></a>
<a href=#__codelineno-7-18 id=__codelineno-7-18 name=__codelineno-7-18></a>echo all done!
</code></pre></div><h2 id=alter-table-performance>alter table performance<a title="Permanent link" class=headerlink href=#alter-table-performance>¬∂</a></h2><p>https://www.percona.com/forums/questions-discussions/mysql-and-percona-server/957-alter-table-performance-with-myisam<p>The workaround which I found so far is really ugly, however I've seen users using it with good success. - You can create table of the same structure without keys, - Load data into it to get correct .MYD, - Create table with all keys defined and copy over .frm and .MYI files from it, - followed by FLUSH TABLES. - Now you can use REPAIR TABLE to rebuild all keys by sort, including UNIQUE keys.<h2 id=check-database-table-size>check database / table size<a title="Permanent link" class=headerlink href=#check-database-table-size>¬∂</a></h2><div class=highlight><pre><span></span><code><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a><span class=c1>--sizes of all of dbname</span>
<a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a><span class=k>SELECT</span><span class=w> </span><span class=n>engine</span><span class=p>,</span><span class=w> </span><span class=n>table_schema</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>db</span><span class=p>,</span><span class=w> </span>
<a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a><span class=w>       </span><span class=k>SUM</span><span class=p>(</span><span class=n>index_length</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>ind_GB</span><span class=p>,</span>
<a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a><span class=w>       </span><span class=k>SUM</span><span class=p>(</span><span class=n>data_length</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>dat_GB</span><span class=p>,</span>
<a href=#__codelineno-8-5 id=__codelineno-8-5 name=__codelineno-8-5></a><span class=w>       </span><span class=k>SUM</span><span class=p>(</span><span class=n>data_free</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>dfr_GB</span>
<a href=#__codelineno-8-6 id=__codelineno-8-6 name=__codelineno-8-6></a><span class=k>FROM</span><span class=w> </span><span class=n>information_schema</span><span class=p>.</span><span class=n>TABLES</span><span class=w> </span>
<a href=#__codelineno-8-7 id=__codelineno-8-7 name=__codelineno-8-7></a><span class=k>where</span><span class=w> </span><span class=n>table_Type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'BASE TABLE'</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=p>(</span><span class=n>TABLE_SCHEMA</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s1>'sys'</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>TABLE_SCHEMA</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s1>'mysql'</span><span class=p>)</span>
<a href=#__codelineno-8-8 id=__codelineno-8-8 name=__codelineno-8-8></a><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>table_schema</span>
<a href=#__codelineno-8-9 id=__codelineno-8-9 name=__codelineno-8-9></a><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>dat_GB</span><span class=p>;</span>
<a href=#__codelineno-8-10 id=__codelineno-8-10 name=__codelineno-8-10></a>
<a href=#__codelineno-8-11 id=__codelineno-8-11 name=__codelineno-8-11></a><span class=c1>--size of one database</span>
<a href=#__codelineno-8-12 id=__codelineno-8-12 name=__codelineno-8-12></a><span class=k>SELECT</span><span class=w> </span><span class=n>table_schema</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>dbname</span><span class=p>,</span>
<a href=#__codelineno-8-13 id=__codelineno-8-13 name=__codelineno-8-13></a><span class=w>       </span><span class=n>ROUND</span><span class=p>(</span><span class=k>SUM</span><span class=p>(</span><span class=n>data_length</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>index_length</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>size_GB</span><span class=w>  </span>
<a href=#__codelineno-8-14 id=__codelineno-8-14 name=__codelineno-8-14></a><span class=k>FROM</span><span class=w> </span><span class=n>information_schema</span><span class=p>.</span><span class=n>tables</span><span class=w> </span>
<a href=#__codelineno-8-15 id=__codelineno-8-15 name=__codelineno-8-15></a><span class=k>where</span><span class=w> </span><span class=n>table_schema</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'database_name'</span>
<a href=#__codelineno-8-16 id=__codelineno-8-16 name=__codelineno-8-16></a><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>table_schema</span><span class=p>;</span><span class=w> </span>
<a href=#__codelineno-8-17 id=__codelineno-8-17 name=__codelineno-8-17></a>
<a href=#__codelineno-8-18 id=__codelineno-8-18 name=__codelineno-8-18></a><span class=c1>--sizes of all tables in a specific database</span>
<a href=#__codelineno-8-19 id=__codelineno-8-19 name=__codelineno-8-19></a><span class=k>SELECT</span><span class=w> </span><span class=k>table_name</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>tb</span><span class=p>,</span>
<a href=#__codelineno-8-20 id=__codelineno-8-20 name=__codelineno-8-20></a><span class=p>(</span><span class=n>data_length</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>dat_GB</span><span class=p>,</span><span class=w> </span>
<a href=#__codelineno-8-21 id=__codelineno-8-21 name=__codelineno-8-21></a><span class=p>(</span><span class=n>index_length</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>ind_GB</span><span class=w> </span>
<a href=#__codelineno-8-22 id=__codelineno-8-22 name=__codelineno-8-22></a><span class=k>FROM</span><span class=w> </span><span class=n>information_schema</span><span class=p>.</span><span class=n>TABLES</span>
<a href=#__codelineno-8-23 id=__codelineno-8-23 name=__codelineno-8-23></a><span class=k>WHERE</span><span class=w> </span><span class=n>table_schema</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'database_name'</span>
<a href=#__codelineno-8-24 id=__codelineno-8-24 name=__codelineno-8-24></a><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=p>(</span><span class=n>data_length</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>index_length</span><span class=p>)</span><span class=w> </span><span class=k>DESC</span><span class=p>;</span>
</code></pre></div><h2 id=list-tables-with-a-specific-colname>list tables with a specific colname<a title="Permanent link" class=headerlink href=#list-tables-with-a-specific-colname>¬∂</a></h2><div class=highlight><pre><span></span><code><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>t</span><span class=p>.</span><span class=k>TABLE_NAME</span><span class=p>,</span><span class=w> </span><span class=n>t</span><span class=p>.</span><span class=n>data_length</span><span class=o>/</span><span class=mi>1024</span><span class=o>/</span><span class=mi>1024</span><span class=o>/</span><span class=mi>1024</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>dsz</span><span class=p>,</span><span class=w> </span><span class=n>t</span><span class=p>.</span><span class=n>index_length</span><span class=o>/</span><span class=mi>1024</span><span class=o>/</span><span class=mi>1024</span><span class=o>/</span><span class=mi>1024</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>isz</span>
<a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a><span class=k>FROM</span><span class=w> </span><span class=n>INFORMATION_SCHEMA</span><span class=p>.</span><span class=n>tables</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>t</span>
<a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a><span class=k>WHERE</span><span class=w> </span><span class=n>t</span><span class=p>.</span><span class=n>TABLE_SCHEMA</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'mydb'</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>t</span><span class=p>.</span><span class=n>table_type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'BASE TABLE'</span>
<a href=#__codelineno-9-4 id=__codelineno-9-4 name=__codelineno-9-4></a><span class=k>and</span><span class=w> </span><span class=n>t</span><span class=p>.</span><span class=k>table_name</span><span class=w> </span><span class=k>in</span><span class=w> </span>
<a href=#__codelineno-9-5 id=__codelineno-9-5 name=__codelineno-9-5></a><span class=p>(</span>
<a href=#__codelineno-9-6 id=__codelineno-9-6 name=__codelineno-9-6></a><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=k>distinct</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=k>TABLE_NAME</span>
<a href=#__codelineno-9-7 id=__codelineno-9-7 name=__codelineno-9-7></a><span class=w>  </span><span class=k>FROM</span><span class=w> </span><span class=n>INFORMATION_SCHEMA</span><span class=p>.</span><span class=n>COLUMNS</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=k>c</span>
<a href=#__codelineno-9-8 id=__codelineno-9-8 name=__codelineno-9-8></a><span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=k>COLUMN_NAME</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'mycol'</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>TABLE_SCHEMA</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'mydb'</span><span class=w> </span>
<a href=#__codelineno-9-9 id=__codelineno-9-9 name=__codelineno-9-9></a><span class=p>)</span>
<a href=#__codelineno-9-10 id=__codelineno-9-10 name=__codelineno-9-10></a><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=p>(</span><span class=n>t</span><span class=p>.</span><span class=n>data_length</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>t</span><span class=p>.</span><span class=n>index_length</span><span class=p>)</span><span class=w> </span><span class=k>asc</span><span class=p>;</span>
</code></pre></div><h2 id=check-database-last-update-time>check database last update time<a title="Permanent link" class=headerlink href=#check-database-last-update-time>¬∂</a></h2><div class=highlight><pre><span></span><code><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>table_schema</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>db</span><span class=p>,</span><span class=w> </span><span class=k>max</span><span class=p>(</span><span class=n>update_time</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>upd_time</span>
<a href=#__codelineno-10-2 id=__codelineno-10-2 name=__codelineno-10-2></a><span class=k>FROM</span><span class=w>   </span><span class=n>information_schema</span><span class=p>.</span><span class=n>tables</span>
<a href=#__codelineno-10-3 id=__codelineno-10-3 name=__codelineno-10-3></a><span class=k>WHERE</span><span class=w>  </span><span class=n>table_schema</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'mydb'</span>
<a href=#__codelineno-10-4 id=__codelineno-10-4 name=__codelineno-10-4></a><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>table_schema</span><span class=p>;</span>
</code></pre></div></article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div><button class="md-top md-icon" data-md-component=top hidden type=button><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top</button></main><footer class=md-footer><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright><div class=md-copyright__highlight><a title="Go to Main Home Page" href=/>üè† Back to Home</a><br> Copyright ¬© 2026 Sean Ma <br>Last updated on 17 Jan 2026</div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.expand", "navigation.indexes", "navigation.top", "toc.follow", "search.suggest", "search.highlight", "content.code.copy", "navigation.prune"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script><script src=../../../assets/javascripts/bundle.56ea9cef.min.js></script>