<!doctype html><html class=no-js lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=https://seanslma.github.io/maki/DevOps/Kubernetes/Topic_Cert/SelfSignedCertificate/ rel=canonical><link href=../KubernetesCertificate/ rel=prev><link href=../../Topic_Volume/ConfigMap/ rel=next><link href=../../../../assets/images/favicon.png rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.6.15" name=generator><title>Self-signed Certificate - maki</title><link href=../../../../assets/stylesheets/main.342714a4.min.css rel=stylesheet><link href=../../../../assets/stylesheets/palette.06af60db.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../../../stylesheets/extra.css rel=stylesheet><script>__md_scope=new URL(`../../../..`,location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+`.`+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+`.`+e,JSON.stringify(_))}catch{}};</script><body data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=default dir=ltr><input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox><input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox><label class=md-overlay for=__drawer></label><div data-md-component=skip><a class=md-skip href=#self-signed-certificate> Skip to content </a></div><div data-md-component=announce></div><header class=md-header data-md-component=header><nav class="md-header__inner md-grid" aria-label=Header><a class="md-header__button md-logo" aria-label=maki data-md-component=logo href=../../../.. title=maki> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a><label class="md-header__button md-icon" for=__drawer><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> maki </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> Self-signed Certificate </span></div></div></div><form class=md-header__option data-md-component=palette><input aria-label="Switch to dark mode" class=md-option data-md-color-accent=indigo data-md-color-media data-md-color-primary=indigo data-md-color-scheme=default id=__palette_0 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg></label><input aria-label="Switch to light mode" class=md-option data-md-color-accent=indigo data-md-color-media data-md-color-primary=indigo data-md-color-scheme=slate id=__palette_1 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg></label></form><script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><label class="md-header__button md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false><label class="md-search__icon md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></label><nav aria-label=Search class=md-search__options><button class="md-search__icon md-icon" aria-label=Clear tabindex=-1 title=Clear type=reset><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button></nav><div class=md-search__suggest data-md-component=search-suggest></div></form><div class=md-search__output><div class=md-search__scrollwrap data-md-scrollfix tabindex=0><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta>Initializing search</div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a title="Go to repository" class=md-source data-md-component=source href=https://github.com/seanslma/maki> <div class="md-source__icon md-icon"><svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg></div> <div class=md-source__repository>GitHub</div> </a></div></nav></header><div class=md-container data-md-component=container><nav aria-label=Tabs class=md-tabs data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class=md-tabs__item><a class=md-tabs__link href=../../../..> About </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../AI/ChatGPT/> AI </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../AWS/CDN/> AWS </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../Azure/Advisor/> Azure </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../Coding/Notepad%2B%2B/> Coding </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../Cybersecurity/Cybersecurity/> Cybersecurity </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../Data/Data/> Data </a><li class="md-tabs__item md-tabs__item--active"><a class=md-tabs__link href=../../../DevOps/> DevOps </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../Documentation/Jira/> Documentation </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../Energy/Inertia/> Energy </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../Learn/Book/> Learn </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../ML/Backtest/> ML </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../Optimizaton/Convex/> Optimizaton </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../PowerBI/Basic/> PowerBI </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../Python/Basic/> Python </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../SQL/Database/> SQL </a><li class=md-tabs__item><a class=md-tabs__link href=../../../../System/Behavior/> System </a></ul></div></nav><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0><label class=md-nav__title for=__drawer><a class="md-nav__button md-logo" aria-label=maki data-md-component=logo href=../../../.. title=maki> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> maki</label><div class=md-nav__source><a title="Go to repository" class=md-source data-md-component=source href=https://github.com/seanslma/maki> <div class="md-source__icon md-icon"><svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg></div> <div class=md-source__repository>GitHub</div> </a></div><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../../../..> <span class=md-ellipsis> About </span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../AI/ChatGPT/> <span class=md-ellipsis> AI </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../AWS/CDN/> <span class=md-ellipsis> AWS </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../Azure/Advisor/> <span class=md-ellipsis> Azure </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../Coding/Notepad%2B%2B/> <span class=md-ellipsis> Coding </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../Cybersecurity/Cybersecurity/> <span class=md-ellipsis> Cybersecurity </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../Data/Data/> <span class=md-ellipsis> Data </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle" checked id=__nav_8 type=checkbox> <label class=md-nav__link for=__nav_8 id=__nav_8_label><span class=md-ellipsis> DevOps </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=true aria-labelledby=__nav_8_label class=md-nav data-md-level=1><label class=md-nav__title for=__nav_8><span class="md-nav__icon md-icon"></span> DevOps</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../../../DevOps/> <span class=md-ellipsis> DevOps </span> </a><li class=md-nav__item><a class=md-nav__link href=../../../Resource/> <span class=md-ellipsis> Resource </span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../%20Prometheus/Prometheus/> <span class=md-ellipsis> Prometheus </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../ArgoCD/ACR/> <span class=md-ellipsis> ArgoCD </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Buildx/Buildctl/> <span class=md-ellipsis> Buildx </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../CICD/Bamboo/> <span class=md-ellipsis> CICD </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Config/Ansible/> <span class=md-ellipsis> Config </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Container/Install/> <span class=md-ellipsis> Container </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Docker/Add/> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Env/Certificate/> <span class=md-ellipsis> Env </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Git/Branch/> <span class=md-ellipsis> Git </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../GitHub/Actions/> <span class=md-ellipsis> GitHub </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Helm/CLI/> <span class=md-ellipsis> Helm </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-nav__toggle md-toggle" checked id=__nav_8_14 type=checkbox> <label class=md-nav__link for=__nav_8_14 id=__nav_8_14_label tabindex=0><span class=md-ellipsis> Kubernetes </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=true aria-labelledby=__nav_8_14_label class=md-nav data-md-level=2><label class=md-nav__title for=__nav_8_14><span class="md-nav__icon md-icon"></span> Kubernetes</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../../API/> <span class=md-ellipsis> API </span> </a><li class=md-nav__item><a class=md-nav__link href=../../AssignPods/> <span class=md-ellipsis> Assign Pods to Nodes </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Autoscaler/> <span class=md-ellipsis> Kube Autoscaler </span> </a><li class=md-nav__item><a class=md-nav__link href=../../CPU/> <span class=md-ellipsis> CPU </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Config/> <span class=md-ellipsis> KubeConfig </span> </a><li class=md-nav__item><a class=md-nav__link href=../../ConfigMap/> <span class=md-ellipsis> ConfigMap </span> </a><li class=md-nav__item><a class=md-nav__link href=../../DaemonSet/> <span class=md-ellipsis> DaemonSet </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Deployment/> <span class=md-ellipsis> Deployment </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Diagnosis/> <span class=md-ellipsis> Kube diagnosis </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Disk/> <span class=md-ellipsis> Disk </span> </a><li class=md-nav__item><a class=md-nav__link href=../../FieldSelector/> <span class=md-ellipsis> Field Selector </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Ingress/> <span class=md-ellipsis> Ingress </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Job/> <span class=md-ellipsis> Job </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Kubectl/> <span class=md-ellipsis> Kubectl </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Kubernetes/> <span class=md-ellipsis> Kubernetes </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Label/> <span class=md-ellipsis> Label and Annotation </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Learn/> <span class=md-ellipsis> Learn </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Logs/> <span class=md-ellipsis> Logs </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Memory/> <span class=md-ellipsis> Memory </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Monitor/> <span class=md-ellipsis> Monitor </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Multithreading/> <span class=md-ellipsis> Multithreading </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Node/> <span class=md-ellipsis> Node </span> </a><li class=md-nav__item><a class=md-nav__link href=../../NodePort/> <span class=md-ellipsis> NodePort </span> </a><li class=md-nav__item><a class=md-nav__link href=../../NodeReboot/> <span class=md-ellipsis> Reboot Node </span> </a><li class=md-nav__item><a class=md-nav__link href=../../NodeTaint/> <span class=md-ellipsis> Taints and Tolerations </span> </a><li class=md-nav__item><a class=md-nav__link href=../../PDB/> <span class=md-ellipsis> PDB (Pod Disruption Budget) </span> </a><li class=md-nav__item><a class=md-nav__link href=../../PersistentVolume/> <span class=md-ellipsis> Persistent Volume </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Pod/> <span class=md-ellipsis> Pod </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Port/> <span class=md-ellipsis> Port </span> </a><li class=md-nav__item><a class=md-nav__link href=../../PrivateEndpoint/> <span class=md-ellipsis> Private Endpoint </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Python/> <span class=md-ellipsis> Python </span> </a><li class=md-nav__item><a class=md-nav__link href=../../ReplicaSet/> <span class=md-ellipsis> Kube ReplicaSet </span> </a><li class=md-nav__item><a class=md-nav__link href=../../RoleBinding/> <span class=md-ellipsis> Role Binding </span> </a><li class=md-nav__item><a class=md-nav__link href=../../SecretProvider/> <span class=md-ellipsis> SecretProviderClass </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Secrets/> <span class=md-ellipsis> Secrets </span> </a><li class=md-nav__item><a class=md-nav__link href=../../SecretsCSI/> <span class=md-ellipsis> Secrets Store CSI Driver </span> </a><li class=md-nav__item><a class=md-nav__link href=../../Service/> <span class=md-ellipsis> Service </span> </a><li class=md-nav__item><a class=md-nav__link href=../../ServiceAccount/> <span class=md-ellipsis> ServiceAccount </span> </a><li class=md-nav__item><a class=md-nav__link href=../../SortBy/> <span class=md-ellipsis> Sort By </span> </a><li class=md-nav__item><a class=md-nav__link href=../../StatefulSet/> <span class=md-ellipsis> StatefulSet </span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../App/PostgreSql/> <span class=md-ellipsis> App </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../Design/Mistake/> <span class=md-ellipsis> Design </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../Issues/Auth/> <span class=md-ellipsis> Issues </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../Network/ClusterIP/> <span class=md-ellipsis> Network </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-nav__toggle md-toggle" checked id=__nav_8_14_45 type=checkbox> <label class=md-nav__link for=__nav_8_14_45 id=__nav_8_14_45_label tabindex=0><span class=md-ellipsis> Topic Cert </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=true aria-labelledby=__nav_8_14_45_label class=md-nav data-md-level=3><label class=md-nav__title for=__nav_8_14_45><span class="md-nav__icon md-icon"></span> Topic Cert</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../KubernetesCertificate/> <span class=md-ellipsis> Kubernetes Certificate </span> </a><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc><span class=md-ellipsis> Self-signed Certificate </span> <span class="md-nav__icon md-icon"></span></label> <a class="md-nav__link md-nav__link--active" href=./> <span class=md-ellipsis> Self-signed Certificate </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#tls-secret> <span class=md-ellipsis> tls secret </span> </a><li class=md-nav__item><a class=md-nav__link href=#how-to-add-certificate-to-the-pod> <span class=md-ellipsis> how to add certificate to the pod </span> </a> <nav aria-label="how to add certificate to the pod" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#mount-as-volume> <span class=md-ellipsis> mount as volume </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#mount-multiple-certificates-to-the-same-path> <span class=md-ellipsis> mount multiple certificates to the same path </span> </a><li class=md-nav__item><a class=md-nav__link href=#mount-a-secret-to-an-existing-path-in-docker-image> <span class=md-ellipsis> mount a secret to an existing path in docker image </span> </a></ul></nav></ul></nav><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../Topic_Volume/ConfigMap/> <span class=md-ellipsis> Topic Volume </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../Topic_WebApi/WebApi/> <span class=md-ellipsis> Topic WebApi </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../k8s/APIServer/> <span class=md-ellipsis> K8s </span> <span class="md-nav__icon md-icon"></span> </a></ul></nav><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Kustomize/Kustomize/> <span class=md-ellipsis> Kustomize </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../MonitorPerf/Dynatrace/> <span class=md-ellipsis> MonitorPerf </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../MonitorServer/Datadog/> <span class=md-ellipsis> MonitorServer </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Network/Authorization/> <span class=md-ellipsis> Network </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Nginx/FileServer/> <span class=md-ellipsis> Nginx </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Python/Conda/> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../SSL/Authority/> <span class=md-ellipsis> SSL </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Security/Cert/> <span class=md-ellipsis> Security </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Terraform/Bicep/> <span class=md-ellipsis> Terraform </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Terragrunt/Backend/> <span class=md-ellipsis> Terragrunt </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Test/Locust/> <span class=md-ellipsis> Test </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../Yaml/String/> <span class=md-ellipsis> Yaml </span> <span class="md-nav__icon md-icon"></span> </a></ul></nav><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../Documentation/Jira/> <span class=md-ellipsis> Documentation </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../Energy/Inertia/> <span class=md-ellipsis> Energy </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../Learn/Book/> <span class=md-ellipsis> Learn </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../ML/Backtest/> <span class=md-ellipsis> ML </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../Optimizaton/Convex/> <span class=md-ellipsis> Optimizaton </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../PowerBI/Basic/> <span class=md-ellipsis> PowerBI </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../Python/Basic/> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../SQL/Database/> <span class=md-ellipsis> SQL </span> <span class="md-nav__icon md-icon"></span> </a><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a class=md-nav__link href=../../../../System/Behavior/> <span class=md-ellipsis> System </span> <span class="md-nav__icon md-icon"></span> </a></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav aria-label="Table of contents" class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#tls-secret> <span class=md-ellipsis> tls secret </span> </a><li class=md-nav__item><a class=md-nav__link href=#how-to-add-certificate-to-the-pod> <span class=md-ellipsis> how to add certificate to the pod </span> </a> <nav aria-label="how to add certificate to the pod" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#mount-as-volume> <span class=md-ellipsis> mount as volume </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#mount-multiple-certificates-to-the-same-path> <span class=md-ellipsis> mount multiple certificates to the same path </span> </a><li class=md-nav__item><a class=md-nav__link href=#mount-a-secret-to-an-existing-path-in-docker-image> <span class=md-ellipsis> mount a secret to an existing path in docker image </span> </a></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1 id=self-signed-certificate>Self-signed Certificate<a title="Permanent link" class=headerlink href=#self-signed-certificate>¶</a></h1><p>How to deploy a website such as web api using self-signed certificate?<h2 id=tls-secret>tls <code>secret</code><a title="Permanent link" class=headerlink href=#tls-secret>¶</a></h2><p>We need to put the private/public tls certificate to a Kubernetes Secret.<h2 id=how-to-add-certificate-to-the-pod>how to add certificate to the pod<a title="Permanent link" class=headerlink href=#how-to-add-certificate-to-the-pod>¶</a></h2><p>To update CA certificates within a specific container running in a pod, you should consider<ul><li><p>incorporating the necessary CA certificates directly into your container image or</p><li><p>mounting them as a volume into your pod.</p></ul><p>Update the Container Image: When building your container image, include the CA certificates you need. You can typically add them to the <code>/etc/ssl/certs/</code> directory in your image. This way, your container already has the necessary CA certificates when it starts.<h3 id=mount-as-volume>mount as volume<a title="Permanent link" class=headerlink href=#mount-as-volume>¶</a></h3><ul><li><p>Use a ConfigMap or Secret: Store your CA certificates in a Kubernetes ConfigMap or Secret.</p><li><p>Then, mount this ConfigMap or Secret as a volume inside your pod.</p><li><p>Your application within the container can use these certificates from the mounted volume.</p></ul><p><strong>mount <code>ConfigMap</code> as volume into a pod</strong><div class=highlight><pre><span></span><code><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
<a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=nt>metadata</span><span class=p>:</span>
<a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ca-certificates</span>
<a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=nt>data</span><span class=p>:</span>
<a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a><span class=w>  </span><span class=nt>my-ca.crt</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=w>    </span><span class=no>-----BEGIN CERTIFICATE-----</span>
<a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=w>    </span><span class=no>...</span>
<a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a><span class=w>    </span><span class=no>-----END CERTIFICATE-----</span>
<a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a>
<a href=#__codelineno-0-11 id=__codelineno-0-11 name=__codelineno-0-11></a><span class=nn>---</span>
<a href=#__codelineno-0-12 id=__codelineno-0-12 name=__codelineno-0-12></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a href=#__codelineno-0-13 id=__codelineno-0-13 name=__codelineno-0-13></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span>
<a href=#__codelineno-0-14 id=__codelineno-0-14 name=__codelineno-0-14></a><span class=nt>metadata</span><span class=p>:</span>
<a href=#__codelineno-0-15 id=__codelineno-0-15 name=__codelineno-0-15></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-pod</span>
<a href=#__codelineno-0-16 id=__codelineno-0-16 name=__codelineno-0-16></a><span class=nt>spec</span><span class=p>:</span>
<a href=#__codelineno-0-17 id=__codelineno-0-17 name=__codelineno-0-17></a><span class=w>  </span><span class=nt>containers</span><span class=p>:</span>
<a href=#__codelineno-0-18 id=__codelineno-0-18 name=__codelineno-0-18></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-container</span>
<a href=#__codelineno-0-19 id=__codelineno-0-19 name=__codelineno-0-19></a><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-image:tag</span>
<a href=#__codelineno-0-20 id=__codelineno-0-20 name=__codelineno-0-20></a><span class=w>    </span><span class=nt>volumeMounts</span><span class=p>:</span>
<a href=#__codelineno-0-21 id=__codelineno-0-21 name=__codelineno-0-21></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ca-certs</span>
<a href=#__codelineno-0-22 id=__codelineno-0-22 name=__codelineno-0-22></a><span class=w>      </span><span class=nt>mountPath</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/ssl/certs</span>
<a href=#__codelineno-0-23 id=__codelineno-0-23 name=__codelineno-0-23></a><span class=w>      </span><span class=nt>readOnly</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a href=#__codelineno-0-24 id=__codelineno-0-24 name=__codelineno-0-24></a><span class=w>  </span><span class=nt>volumes</span><span class=p>:</span>
<a href=#__codelineno-0-25 id=__codelineno-0-25 name=__codelineno-0-25></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ca-certs</span>
<a href=#__codelineno-0-26 id=__codelineno-0-26 name=__codelineno-0-26></a><span class=w>    </span><span class=nt>configMap</span><span class=p>:</span>
<a href=#__codelineno-0-27 id=__codelineno-0-27 name=__codelineno-0-27></a><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ca-certificates</span>
</code></pre></div> In this example, we create a ConfigMap (ca-certificates) with your CA certificate(s). Then, we mount it into the container at <code>/etc/ssl/certs</code>. <p>Remember that this approach assumes that your application inside the container is configured to use the CA certificates from the specified directory.<p>If you need to update CA certificates dynamically in a running pod, you'll need to do it within your application itself, as Kubernetes pods are designed to be immutable, and system-level operations like update-ca-certificates aren't directly supported.<p>why not in <code>/usr/local/share/ca-certificates/extra/</code>?<ul><li><p>The choice of where to store CA certificates within your container depends on your application's requirements and how the application expects to find and use CA certificates. /etc/ssl/certs/ is commonly used in many Linux distributions, so it's often a good choice for compatibility.</p><li><p>If your application is specifically configured to look in /usr/local/share/ca-certificates/extra/ for CA certificates, then you can certainly use that directory instead. Just make sure to configure your application accordingly so that it knows where to find the CA certificates.</p></ul><p><strong>Mount Secret as volume in a pod</strong><p>create a secret<div class=highlight><pre><span></span><code><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Secret</span>
<a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a><span class=nt>metadata</span><span class=p>:</span>
<a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ca-certificates-secret</span>
<a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a><span class=nt>data</span><span class=p>:</span>
<a href=#__codelineno-1-6 id=__codelineno-1-6 name=__codelineno-1-6></a><span class=w>  </span><span class=nt>my-ca.crt</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BASE64_ENCODED_CERTIFICATE_DATA</span>
</code></pre></div><p>mount secret as volume<div class=highlight><pre><span></span><code><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span>
<a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a><span class=nt>metadata</span><span class=p>:</span>
<a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-pod</span>
<a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a><span class=nt>spec</span><span class=p>:</span>
<a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a><span class=w>  </span><span class=nt>containers</span><span class=p>:</span>
<a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-container</span>
<a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">your-image:tag</span>
<a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a><span class=w>    </span><span class=nt>volumeMounts</span><span class=p>:</span>
<a href=#__codelineno-2-10 id=__codelineno-2-10 name=__codelineno-2-10></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ca-certs</span>
<a href=#__codelineno-2-11 id=__codelineno-2-11 name=__codelineno-2-11></a><span class=w>      </span><span class=nt>mountPath</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/ssl/certs</span>
<a href=#__codelineno-2-12 id=__codelineno-2-12 name=__codelineno-2-12></a><span class=w>      </span><span class=nt>readOnly</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a href=#__codelineno-2-13 id=__codelineno-2-13 name=__codelineno-2-13></a><span class=w>  </span><span class=nt>volumes</span><span class=p>:</span>
<a href=#__codelineno-2-14 id=__codelineno-2-14 name=__codelineno-2-14></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ca-certs</span>
<a href=#__codelineno-2-15 id=__codelineno-2-15 name=__codelineno-2-15></a><span class=w>    </span><span class=nt>secret</span><span class=p>:</span>
<a href=#__codelineno-2-16 id=__codelineno-2-16 name=__codelineno-2-16></a><span class=w>      </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ca-certificates-secret</span>
</code></pre></div> Using a Secret is a good approach for storing sensitive data like certificates because it provides encryption at rest. Just make sure to base64-encode the certificate data before storing it in the Secret, as shown in the example above. You can easily update the Secret when the certificates expire or need updating without modifying the Docker image or the pod definition. The updated certificates will be available to your pods. <h2 id=mount-multiple-certificates-to-the-same-path>mount multiple certificates to the same path<a title="Permanent link" class=headerlink href=#mount-multiple-certificates-to-the-same-path>¶</a></h2><p>create two secrets. Another option is put multiple certificates in the same secret.<div class=highlight><pre><span></span><code><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Secret</span>
<a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a><span class=nt>metadata</span><span class=p>:</span>
<a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">certificate-secret-1</span>
<a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a><span class=nt>data</span><span class=p>:</span>
<a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a><span class=w>  </span><span class=nt>certificate.crt</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BASE64_ENCODED_CERTIFICATE_DATA_1</span>
<a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a><span class=nn>---</span>
<a href=#__codelineno-3-8 id=__codelineno-3-8 name=__codelineno-3-8></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a href=#__codelineno-3-9 id=__codelineno-3-9 name=__codelineno-3-9></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Secret</span>
<a href=#__codelineno-3-10 id=__codelineno-3-10 name=__codelineno-3-10></a><span class=nt>metadata</span><span class=p>:</span>
<a href=#__codelineno-3-11 id=__codelineno-3-11 name=__codelineno-3-11></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">certificate-secret-2</span>
<a href=#__codelineno-3-12 id=__codelineno-3-12 name=__codelineno-3-12></a><span class=nt>data</span><span class=p>:</span>
<a href=#__codelineno-3-13 id=__codelineno-3-13 name=__codelineno-3-13></a><span class=w>  </span><span class=nt>certificate.crt</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BASE64_ENCODED_CERTIFICATE_DATA_2</span>
</code></pre></div><p>Create a Volume that combines these Secrets or ConfigMaps using a projected volume:<div class=highlight><pre><span></span><code><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span>
<a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a><span class=nt>metadata</span><span class=p>:</span>
<a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-pod</span>
<a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a><span class=nt>spec</span><span class=p>:</span>
<a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a><span class=w>  </span><span class=nt>containers</span><span class=p>:</span>
<a href=#__codelineno-4-7 id=__codelineno-4-7 name=__codelineno-4-7></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-container</span>
<a href=#__codelineno-4-8 id=__codelineno-4-8 name=__codelineno-4-8></a><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">your-image:tag</span>
<a href=#__codelineno-4-9 id=__codelineno-4-9 name=__codelineno-4-9></a><span class=w>    </span><span class=nt>volumeMounts</span><span class=p>:</span>
<a href=#__codelineno-4-10 id=__codelineno-4-10 name=__codelineno-4-10></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">certificates-volume</span>
<a href=#__codelineno-4-11 id=__codelineno-4-11 name=__codelineno-4-11></a><span class=w>      </span><span class=nt>mountPath</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/ssl/certs</span>
<a href=#__codelineno-4-12 id=__codelineno-4-12 name=__codelineno-4-12></a><span class=w>  </span><span class=nt>volumes</span><span class=p>:</span>
<a href=#__codelineno-4-13 id=__codelineno-4-13 name=__codelineno-4-13></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">certificates-volume</span>
<a href=#__codelineno-4-14 id=__codelineno-4-14 name=__codelineno-4-14></a><span class=w>    </span><span class=nt>projected</span><span class=p>:</span>
<a href=#__codelineno-4-15 id=__codelineno-4-15 name=__codelineno-4-15></a><span class=w>      </span><span class=nt>sources</span><span class=p>:</span>
<a href=#__codelineno-4-16 id=__codelineno-4-16 name=__codelineno-4-16></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>secret</span><span class=p>:</span>
<a href=#__codelineno-4-17 id=__codelineno-4-17 name=__codelineno-4-17></a><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">certificate-secret-1</span>
<a href=#__codelineno-4-18 id=__codelineno-4-18 name=__codelineno-4-18></a><span class=w>          </span><span class=nt>items</span><span class=p>:</span>
<a href=#__codelineno-4-19 id=__codelineno-4-19 name=__codelineno-4-19></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">certificate.crt</span>
<a href=#__codelineno-4-20 id=__codelineno-4-20 name=__codelineno-4-20></a><span class=w>              </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">certificate1.crt</span>
<a href=#__codelineno-4-21 id=__codelineno-4-21 name=__codelineno-4-21></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>secret</span><span class=p>:</span>
<a href=#__codelineno-4-22 id=__codelineno-4-22 name=__codelineno-4-22></a><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">certificate-secret-2</span>
<a href=#__codelineno-4-23 id=__codelineno-4-23 name=__codelineno-4-23></a><span class=w>          </span><span class=nt>items</span><span class=p>:</span>
<a href=#__codelineno-4-24 id=__codelineno-4-24 name=__codelineno-4-24></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">certificate.crt</span>
<a href=#__codelineno-4-25 id=__codelineno-4-25 name=__codelineno-4-25></a><span class=w>              </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">certificate2.crt</span>
</code></pre></div> In this example, we create a projected volume named certificates-volume that combines two Secrets (certificate-secret-1 and certificate-secret-2) and maps their certificate data to different file paths (certificate1.crt and certificate2.crt) within the /etc/ssl/certs directory. You can access these certificates in your application using the respective file paths. <h2 id=mount-a-secret-to-an-existing-path-in-docker-image>mount a secret to an existing path in docker image<a title="Permanent link" class=headerlink href=#mount-a-secret-to-an-existing-path-in-docker-image>¶</a></h2><p>If your Docker image already includes files at a specific path, and you want to mount a Kubernetes Secret at the same path within a running container, it depends on whether the mount point in your pod's definition conflicts with the existing files in your Docker image. Here's what you should consider:<ul><li><p><strong>Mount Conflict</strong>: If the path you want to mount the Secret to already contains files within your Docker image, Kubernetes will typically mount the Secret over the existing files, effectively replacing them during the pod's execution.</p><li><p><strong>File Overwrite</strong>: When you mount a Secret or ConfigMap into a directory that already contains files within the container, the files from the Secret or ConfigMap will overwrite the existing files within that directory for the duration of the pod's lifecycle.</p></ul><p>Here's an example:<p>Suppose your Docker image has a certificate file at <code>/etc/ssl/certs/my-cert.crt</code>, and you mount a Secret or ConfigMap to the same path in your pod's definition. In that case, the certificate file from the Secret or ConfigMap will replace the existing <code>my-cert.crt</code> file within the container.<p>If your application expects specific files to be present in that directory and requires those files to have specific content, be cautious when overwriting them with mounted Secrets or ConfigMaps. Make sure the certificates in your Secret or ConfigMap are compatible with what your application expects.<p>If you want to merge the contents of the mounted Secret or ConfigMap with the existing files, you may need to handle the merge logic within your application or entrypoint script.<p>It's generally a good practice to ensure that the contents of your Secrets or ConfigMaps are compatible with the expectations of your application and won't lead to unexpected issues when files are overwritten.</article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div><button class="md-top md-icon" data-md-component=top hidden type=button><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top</button></main><footer class=md-footer><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright><div class=md-copyright__highlight><a title="Go to Main Home Page" href=/>🏠 Back to Home</a><br> Copyright © 2026 Sean Ma <br>Last updated on <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-custom" title="September 22, 2023 04:23:53 UTC">22 Sep 2023</span></div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.tabs", "navigation.expand", "navigation.indexes", "navigation.top", "toc.follow", "search.suggest", "search.highlight", "content.code.copy", "navigation.prune"], "search": "../../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script><script src=../../../../assets/javascripts/bundle.56ea9cef.min.js></script>